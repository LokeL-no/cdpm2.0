var Tt=Object.defineProperty;var Bt=(t,e,s)=>e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var et=(t,e,s)=>Bt(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function Se(){}function $t(t){return t()}function nt(){return Object.create(null)}function xe(t){t.forEach($t)}function zt(t){return typeof t=="function"}function Ut(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Nt(t){return Object.keys(t).length===0}function l(t,e){t.appendChild(e)}function le(t,e,s){t.insertBefore(e,s||null)}function ee(t){t.parentNode&&t.parentNode.removeChild(t)}function Oe(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function r(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function d(){return g(" ")}function At(){return g("")}function at(t,e,s,n){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)}function c(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function jt(t){return Array.from(t.childNodes)}function y(t,e){e=""+e,t.data!==e&&(t.data=e)}let Ze;function Ye(t){Ze=t}function Mt(){if(!Ze)throw new Error("Function called outside component initialization");return Ze}function Wt(t){Mt().$$.on_mount.push(t)}const Re=[],it=[];let Ie=[];const rt=[],Ht=Promise.resolve();let lt=!1;function Ft(){lt||(lt=!0,Ht.then(Et))}function st(t){Ie.push(t)}const tt=new Set;let Fe=0;function Et(){if(Fe!==0)return;const t=Ze;do{try{for(;Fe<Re.length;){const e=Re[Fe];Fe++,Ye(e),Rt(e.$$)}}catch(e){throw Re.length=0,Fe=0,e}for(Ye(null),Re.length=0,Fe=0;it.length;)it.pop()();for(let e=0;e<Ie.length;e+=1){const s=Ie[e];tt.has(s)||(tt.add(s),s())}Ie.length=0}while(Re.length);for(;rt.length;)rt.pop()();lt=!1,tt.clear(),Ye(t)}function Rt(t){if(t.fragment!==null){t.update(),xe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}function It(t){const e=[],s=[];Ie.forEach(n=>t.indexOf(n)===-1?e.push(n):s.push(n)),s.forEach(n=>n()),Ie=e}const Dt=new Set;function Xt(t,e){t&&t.i&&(Dt.delete(t),t.i(e))}function x(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Jt(t,e,s){const{fragment:n,after_update:a}=t.$$;n&&n.m(e,s),st(()=>{const o=t.$$.on_mount.map($t).filter(zt);t.$$.on_destroy?t.$$.on_destroy.push(...o):xe(o),t.$$.on_mount=[]}),a.forEach(st)}function Vt(t,e){const s=t.$$;s.fragment!==null&&(It(s.after_update),xe(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function qt(t,e){t.$$.dirty[0]===-1&&(Re.push(t),Ft(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Gt(t,e,s,n,a,o,i=null,_=[-1]){const u=Ze;Ye(t);const f=t.$$={fragment:null,ctx:[],props:o,update:Se,not_equal:a,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:nt(),dirty:_,skip_bound:!1,root:e.target||u.$$.root};i&&i(f.root);let v=!1;if(f.ctx=s?s(t,e.props||{},(O,U,...E)=>{const D=E.length?E[0]:U;return f.ctx&&a(f.ctx[O],f.ctx[O]=D)&&(!f.skip_bound&&f.bound[O]&&f.bound[O](D),v&&qt(t,O)),U}):[],f.update(),v=!0,xe(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const O=jt(e.target);f.fragment&&f.fragment.l(O),O.forEach(ee)}else f.fragment&&f.fragment.c();e.intro&&Xt(t.$$.fragment),Jt(t,e.target,e.anchor),Et()}Ye(u)}class Kt{constructor(){et(this,"$$");et(this,"$$set")}$destroy(){Vt(this,1),this.$destroy=Se}$on(e,s){if(!zt(s))return Se;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(s),()=>{const a=n.indexOf(s);a!==-1&&n.splice(a,1)}}$set(e){this.$$set&&!Nt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Qt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qt);function ot(t,e,s){const n=t.slice();return n[29]=e[s],n}function ct(t,e,s){const n=t.slice();return n[32]=e[s],n}function ut(t,e,s){const n=t.slice();return n[35]=e[s],n}function pt(t,e,s){const n=t.slice();return n[29]=e[s],n}function ft(t,e,s){const n=t.slice();return n[40]=e[s][0],n[41]=e[s][1],n}function dt(t,e,s){const n=t.slice();return n[29]=e[s],n}function _t(t,e,s){const n=t.slice();return n[46]=e[s],n}function ht(t,e,s){const n=t.slice();return n[46]=e[s],n}function mt(t,e,s){const n=t.slice();return n[46]=e[s],n}function vt(t,e,s){const n=t.slice();return n[46]=e[s],n}function Yt(t){let e,s=x(t[0]),n=[];for(let a=0;a<s.length;a+=1)n[a]=Ct(dt(t,s,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=At()},m(a,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(a,o);le(a,e,o)},p(a,o){if(o[0]&457){s=x(a[0]);let i;for(i=0;i<s.length;i+=1){const _=dt(a,s,i);n[i]?n[i].p(_,o):(n[i]=Ct(_),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}},d(a){a&&ee(e),Oe(n,a)}}}function Zt(t){let e;return{c(){e=r("div"),e.textContent="Waiting for market data...",c(e,"class","empty")},m(s,n){le(s,e,n)},p:Se,d(s){s&&ee(e)}}}function gt(t){let e,s,n=t[7](t[46].price)+"",a,o,i,_=t[8](t[46].size)+"",u;return{c(){e=r("div"),s=r("span"),a=g(n),o=d(),i=r("span"),u=g(_),c(e,"class","row bid")},m(f,v){le(f,e,v),l(e,s),l(s,a),l(e,o),l(e,i),l(i,u)},p(f,v){v[0]&9&&n!==(n=f[7](f[46].price)+"")&&y(a,n),v[0]&9&&_!==(_=f[8](f[46].size)+"")&&y(u,_)},d(f){f&&ee(e)}}}function bt(t){let e,s,n=t[7](t[46].price)+"",a,o,i,_=t[8](t[46].size)+"",u,f;return{c(){e=r("div"),s=r("span"),a=g(n),o=d(),i=r("span"),u=g(_),f=d(),c(e,"class","row ask")},m(v,O){le(v,e,O),l(e,s),l(s,a),l(e,o),l(e,i),l(i,u),l(e,f)},p(v,O){O[0]&9&&n!==(n=v[7](v[46].price)+"")&&y(a,n),O[0]&9&&_!==(_=v[8](v[46].size)+"")&&y(u,_)},d(v){v&&ee(e)}}}function kt(t){let e,s,n=t[7](t[46].price)+"",a,o,i,_=t[8](t[46].size)+"",u;return{c(){e=r("div"),s=r("span"),a=g(n),o=d(),i=r("span"),u=g(_),c(e,"class","row bid")},m(f,v){le(f,e,v),l(e,s),l(s,a),l(e,o),l(e,i),l(i,u)},p(f,v){v[0]&9&&n!==(n=f[7](f[46].price)+"")&&y(a,n),v[0]&9&&_!==(_=f[8](f[46].size)+"")&&y(u,_)},d(f){f&&ee(e)}}}function wt(t){let e,s,n=t[7](t[46].price)+"",a,o,i,_=t[8](t[46].size)+"",u,f;return{c(){e=r("div"),s=r("span"),a=g(n),o=d(),i=r("span"),u=g(_),f=d(),c(e,"class","row ask")},m(v,O){le(v,e,O),l(e,s),l(s,a),l(e,o),l(e,i),l(i,u),l(e,f)},p(v,O){O[0]&9&&n!==(n=v[7](v[46].price)+"")&&y(a,n),O[0]&9&&_!==(_=v[8](v[46].size)+"")&&y(u,_)},d(v){v&&ee(e)}}}function Ct(t){var De,Be,Xe,Ne,He,Ae,Je,Pe,je,Ve;let e,s,n,a,o=t[29].label+"",i,_,u,f=t[29].slug+"",v,O,U,E=t[29].source+"",D,Q,W,$,T,te,F,j=t[29].window?`${t[6](t[29].window.start_ts)} -> ${t[6](t[29].window.end_ts)}`:"n/a",J,oe,z,V,q,N,se=(t[29].event_title||"Unknown")+"",p,k,w,B,X,C,L,me=t[7]((De=t[29].price)==null?void 0:De.up)+"",ve,ye,ce,ke,$e,de,ge=t[7]((Be=t[29].price)==null?void 0:Be.down)+"",we,ne,ae,M,fe,R,pe,Ce,ie,b,I,S,G,ze,Ue,Ee=x((((Ne=(Xe=t[3][t[29].label])==null?void 0:Xe.up)==null?void 0:Ne.bids)||[]).slice(0,5)),K=[];for(let h=0;h<Ee.length;h+=1)K[h]=gt(vt(t,Ee,h));let Te=x((((Ae=(He=t[3][t[29].label])==null?void 0:He.up)==null?void 0:Ae.asks)||[]).slice(0,5)),Y=[];for(let h=0;h<Te.length;h+=1)Y[h]=bt(mt(t,Te,h));let Le=x((((Pe=(Je=t[3][t[29].label])==null?void 0:Je.down)==null?void 0:Pe.bids)||[]).slice(0,5)),re=[];for(let h=0;h<Le.length;h+=1)re[h]=kt(ht(t,Le,h));let be=x((((Ve=(je=t[3][t[29].label])==null?void 0:je.down)==null?void 0:Ve.asks)||[]).slice(0,5)),Z=[];for(let h=0;h<be.length;h+=1)Z[h]=wt(_t(t,be,h));return{c(){e=r("article"),s=r("header"),n=r("div"),a=r("h2"),i=g(o),_=d(),u=r("p"),v=g(f),O=d(),U=r("span"),D=g(E),Q=d(),W=r("div"),$=r("div"),T=r("p"),T.textContent="Window",te=d(),F=r("p"),J=g(j),oe=d(),z=r("div"),V=r("p"),V.textContent="Event",q=d(),N=r("p"),p=g(se),k=d(),w=r("div"),B=r("div"),X=r("span"),X.textContent="UP",C=d(),L=r("p"),ve=g(me),ye=d(),ce=r("div"),ke=r("span"),ke.textContent="DOWN",$e=d(),de=r("p"),we=g(ge),ne=d(),ae=r("div"),M=r("div"),fe=r("p"),fe.textContent="UP Book",R=d(),pe=r("div");for(let h=0;h<K.length;h+=1)K[h].c();Ce=d();for(let h=0;h<Y.length;h+=1)Y[h].c();ie=d(),b=r("div"),I=r("p"),I.textContent="DOWN Book",S=d(),G=r("div");for(let h=0;h<re.length;h+=1)re[h].c();ze=d();for(let h=0;h<Z.length;h+=1)Z[h].c();Ue=d(),c(u,"class","slug"),c(U,"class","source"),c(T,"class","label"),c(F,"class","value"),c(V,"class","label"),c(N,"class","value"),c(W,"class","window"),c(X,"class","pill side up"),c(L,"class","value"),c(B,"class","price yes"),c(ke,"class","pill side down"),c(de,"class","value"),c(ce,"class","price no"),c(w,"class","prices"),c(fe,"class","label"),c(pe,"class","levels"),c(M,"class","book"),c(I,"class","label"),c(G,"class","levels"),c(b,"class","book"),c(ae,"class","orderbook"),c(e,"class","card")},m(h,H){le(h,e,H),l(e,s),l(s,n),l(n,a),l(a,i),l(n,_),l(n,u),l(u,v),l(s,O),l(s,U),l(U,D),l(e,Q),l(e,W),l(W,$),l($,T),l($,te),l($,F),l(F,J),l(W,oe),l(W,z),l(z,V),l(z,q),l(z,N),l(N,p),l(e,k),l(e,w),l(w,B),l(B,X),l(B,C),l(B,L),l(L,ve),l(w,ye),l(w,ce),l(ce,ke),l(ce,$e),l(ce,de),l(de,we),l(e,ne),l(e,ae),l(ae,M),l(M,fe),l(M,R),l(M,pe);for(let A=0;A<K.length;A+=1)K[A]&&K[A].m(pe,null);l(pe,Ce);for(let A=0;A<Y.length;A+=1)Y[A]&&Y[A].m(pe,null);l(ae,ie),l(ae,b),l(b,I),l(b,S),l(b,G);for(let A=0;A<re.length;A+=1)re[A]&&re[A].m(G,null);l(G,ze);for(let A=0;A<Z.length;A+=1)Z[A]&&Z[A].m(G,null);l(e,Ue)},p(h,H){var A,qe,Ge,Ke,Me,_e,Qe,We,he,P;if(H[0]&1&&o!==(o=h[29].label+"")&&y(i,o),H[0]&1&&f!==(f=h[29].slug+"")&&y(v,f),H[0]&1&&E!==(E=h[29].source+"")&&y(D,E),H[0]&1&&j!==(j=h[29].window?`${h[6](h[29].window.start_ts)} -> ${h[6](h[29].window.end_ts)}`:"n/a")&&y(J,j),H[0]&1&&se!==(se=(h[29].event_title||"Unknown")+"")&&y(p,se),H[0]&1&&me!==(me=h[7]((A=h[29].price)==null?void 0:A.up)+"")&&y(ve,me),H[0]&1&&ge!==(ge=h[7]((qe=h[29].price)==null?void 0:qe.down)+"")&&y(we,ge),H[0]&393){Ee=x((((Ke=(Ge=h[3][h[29].label])==null?void 0:Ge.up)==null?void 0:Ke.bids)||[]).slice(0,5));let m;for(m=0;m<Ee.length;m+=1){const ue=vt(h,Ee,m);K[m]?K[m].p(ue,H):(K[m]=gt(ue),K[m].c(),K[m].m(pe,Ce))}for(;m<K.length;m+=1)K[m].d(1);K.length=Ee.length}if(H[0]&393){Te=x((((_e=(Me=h[3][h[29].label])==null?void 0:Me.up)==null?void 0:_e.asks)||[]).slice(0,5));let m;for(m=0;m<Te.length;m+=1){const ue=mt(h,Te,m);Y[m]?Y[m].p(ue,H):(Y[m]=bt(ue),Y[m].c(),Y[m].m(pe,null))}for(;m<Y.length;m+=1)Y[m].d(1);Y.length=Te.length}if(H[0]&393){Le=x((((We=(Qe=h[3][h[29].label])==null?void 0:Qe.down)==null?void 0:We.bids)||[]).slice(0,5));let m;for(m=0;m<Le.length;m+=1){const ue=ht(h,Le,m);re[m]?re[m].p(ue,H):(re[m]=kt(ue),re[m].c(),re[m].m(G,ze))}for(;m<re.length;m+=1)re[m].d(1);re.length=Le.length}if(H[0]&393){be=x((((P=(he=h[3][h[29].label])==null?void 0:he.down)==null?void 0:P.asks)||[]).slice(0,5));let m;for(m=0;m<be.length;m+=1){const ue=_t(h,be,m);Z[m]?Z[m].p(ue,H):(Z[m]=wt(ue),Z[m].c(),Z[m].m(G,null))}for(;m<Z.length;m+=1)Z[m].d(1);Z.length=be.length}},d(h){h&&ee(e),Oe(K,h),Oe(Y,h),Oe(re,h),Oe(Z,h)}}}function St(t){let e,s,n,a,o,i=t[9](t[41])+"",_,u;return{c(){e=r("div"),s=r("span"),s.textContent=`${t[40]}`,n=d(),a=r("span"),o=g("$"),_=g(i),u=d(),c(s,"class","label"),c(a,"class",`value ${t[41]>=0?"pos":"neg"}`),c(e,"class","summary-row")},m(f,v){le(f,e,v),l(e,s),l(e,n),l(e,a),l(a,o),l(a,_),l(e,u)},p:Se,d(f){f&&ee(e)}}}function yt(t){let e,s,n,a,o,i=t[9](t[29].pnl)+"",_,u;return{c(){e=r("div"),s=r("span"),s.textContent=`${t[29].label}`,n=d(),a=r("span"),o=g("$"),_=g(i),u=d(),c(s,"class","label"),c(a,"class",`value ${t[29].pnl>=0?"pos":"neg"}`),c(e,"class","summary-row")},m(f,v){le(f,e,v),l(e,s),l(e,n),l(e,a),l(a,o),l(a,_),l(e,u)},p:Se,d(f){f&&ee(e)}}}function xt(t){let e;return{c(){e=r("div"),e.textContent="Waiting for paper trade data...",c(e,"class","empty")},m(s,n){le(s,e,n)},p:Se,d(s){s&&ee(e)}}}function el(t){let e,s=x(t[5].markets),n=[];for(let a=0;a<s.length;a+=1)n[a]=Ot(ot(t,s,a));return{c(){e=r("div");for(let a=0;a<n.length;a+=1)n[a].c();c(e,"class","paper-grid")},m(a,o){le(a,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(a,o){if(o[0]&118432){s=x(a[5].markets);let i;for(i=0;i<s.length;i+=1){const _=ot(a,s,i);n[i]?n[i].p(_,o):(n[i]=Ot(_),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}},d(a){a&&ee(e),Oe(n,a)}}}function tl(t){let e;return{c(){e=r("p"),e.textContent="No paper trades yet.",c(e,"class","empty")},m(s,n){le(s,e,n)},p:Se,d(s){s&&ee(e)}}}function ll(t){let e,s,n,a=x(t[29].trades.slice(-6).reverse()),o=[];for(let i=0;i<a.length;i+=1)o[i]=Lt(ut(t,a,i));return{c(){e=r("div"),s=r("div"),s.innerHTML='<span>Type</span> <span>Side</span> <span class="num">Price</span> <span class="num">Target</span> <span class="num">Slippage</span> <span class="num">Cost</span> <span class="num">Shares</span>',n=d();for(let i=0;i<o.length;i+=1)o[i].c();c(s,"class","table-header"),c(e,"class","table")},m(i,_){le(i,e,_),l(e,s),l(e,n);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null)},p(i,_){if(_[0]&3744){a=x(i[29].trades.slice(-6).reverse());let u;for(u=0;u<a.length;u+=1){const f=ut(i,a,u);o[u]?o[u].p(f,_):(o[u]=Lt(f),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=a.length}},d(i){i&&ee(e),Oe(o,i)}}}function Lt(t){let e,s,n=t[35].action.toUpperCase()+"",a,o,i,_,u=t[35].side.toUpperCase()+"",f,v,O,U,E=t[7](t[35].price)+"",D,Q,W,$=t[7](t[35].target_price)+"",T,te,F,j=t[11](t[35].slippage)+"",J,oe,z,V,q=t[9](t[35].notional)+"",N,se,p,k=t[10](t[35].size)+"",w,B,X;return{c(){e=r("div"),s=r("span"),a=g(n),i=d(),_=r("span"),f=g(u),O=d(),U=r("span"),D=g(E),Q=d(),W=r("span"),T=g($),te=d(),F=r("span"),J=g(j),oe=d(),z=r("span"),V=g("$"),N=g(q),se=d(),p=r("span"),w=g(k),B=g(" sh"),X=d(),c(s,"class",o=`pill action ${t[35].action}`),c(_,"class",v=`pill side ${t[35].side}`),c(U,"class","num"),c(W,"class","num"),c(F,"class","num"),c(z,"class","num"),c(p,"class","num"),c(e,"class","table-row")},m(C,L){le(C,e,L),l(e,s),l(s,a),l(e,i),l(e,_),l(_,f),l(e,O),l(e,U),l(U,D),l(e,Q),l(e,W),l(W,T),l(e,te),l(e,F),l(F,J),l(e,oe),l(e,z),l(z,V),l(z,N),l(e,se),l(e,p),l(p,w),l(p,B),l(e,X)},p(C,L){L[0]&32&&n!==(n=C[35].action.toUpperCase()+"")&&y(a,n),L[0]&32&&o!==(o=`pill action ${C[35].action}`)&&c(s,"class",o),L[0]&32&&u!==(u=C[35].side.toUpperCase()+"")&&y(f,u),L[0]&32&&v!==(v=`pill side ${C[35].side}`)&&c(_,"class",v),L[0]&32&&E!==(E=C[7](C[35].price)+"")&&y(D,E),L[0]&32&&$!==($=C[7](C[35].target_price)+"")&&y(T,$),L[0]&32&&j!==(j=C[11](C[35].slippage)+"")&&y(J,j),L[0]&32&&q!==(q=C[9](C[35].notional)+"")&&y(N,q),L[0]&32&&k!==(k=C[10](C[35].size)+"")&&y(w,k)},d(C){C&&ee(e)}}}function sl(t){let e;return{c(){e=r("p"),e.textContent="No sell orders yet.",c(e,"class","empty")},m(s,n){le(s,e,n)},p:Se,d(s){s&&ee(e)}}}function nl(t){let e,s,n,a=x(t[29].sell_orders.slice(-6).reverse()),o=[];for(let i=0;i<a.length;i+=1)o[i]=Pt(ct(t,a,i));return{c(){e=r("div"),s=r("div"),s.innerHTML='<span>Status</span> <span>Side</span> <span class="num">Price</span> <span class="num">Target</span> <span class="num">Slippage</span> <span class="num">Shares</span> <span class="num">Value</span>',n=d();for(let i=0;i<o.length;i+=1)o[i].c();c(s,"class","table-header"),c(e,"class","table")},m(i,_){le(i,e,_),l(e,s),l(e,n);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null)},p(i,_){if(_[0]&3744){a=x(i[29].sell_orders.slice(-6).reverse());let u;for(u=0;u<a.length;u+=1){const f=ct(i,a,u);o[u]?o[u].p(f,_):(o[u]=Pt(f),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=a.length}},d(i){i&&ee(e),Oe(o,i)}}}function Pt(t){let e,s,n=t[32].status.toUpperCase()+"",a,o,i,_,u=t[32].side.toUpperCase()+"",f,v,O,U,E=t[7](t[32].price)+"",D,Q,W,$=t[7](t[32].target_price)+"",T,te,F,j=t[11](t[32].slippage)+"",J,oe,z,V=t[10](t[32].size)+"",q,N,se,p,k,w=t[9](t[32].price*t[32].size)+"",B,X;return{c(){e=r("div"),s=r("span"),a=g(n),i=d(),_=r("span"),f=g(u),O=d(),U=r("span"),D=g(E),Q=d(),W=r("span"),T=g($),te=d(),F=r("span"),J=g(j),oe=d(),z=r("span"),q=g(V),N=g(" sh"),se=d(),p=r("span"),k=g("$"),B=g(w),X=d(),c(s,"class",o=`pill status ${t[32].status}`),c(_,"class",v=`pill side ${t[32].side}`),c(U,"class","num"),c(W,"class","num"),c(F,"class","num"),c(z,"class","num"),c(p,"class","num"),c(e,"class","table-row")},m(C,L){le(C,e,L),l(e,s),l(s,a),l(e,i),l(e,_),l(_,f),l(e,O),l(e,U),l(U,D),l(e,Q),l(e,W),l(W,T),l(e,te),l(e,F),l(F,J),l(e,oe),l(e,z),l(z,q),l(z,N),l(e,se),l(e,p),l(p,k),l(p,B),l(e,X)},p(C,L){L[0]&32&&n!==(n=C[32].status.toUpperCase()+"")&&y(a,n),L[0]&32&&o!==(o=`pill status ${C[32].status}`)&&c(s,"class",o),L[0]&32&&u!==(u=C[32].side.toUpperCase()+"")&&y(f,u),L[0]&32&&v!==(v=`pill side ${C[32].side}`)&&c(_,"class",v),L[0]&32&&E!==(E=C[7](C[32].price)+"")&&y(D,E),L[0]&32&&$!==($=C[7](C[32].target_price)+"")&&y(T,$),L[0]&32&&j!==(j=C[11](C[32].slippage)+"")&&y(J,j),L[0]&32&&V!==(V=C[10](C[32].size)+"")&&y(q,V),L[0]&32&&w!==(w=C[9](C[32].price*C[32].size)+"")&&y(B,w)},d(C){C&&ee(e)}}}function Ot(t){let e,s,n,a,o=t[29].label+"",i,_,u,f=t[29].slug+"",v,O,U,E=t[29].status+"",D,Q,W,$,T,te,F,j,J,oe=t[9](t[29].cash)+"",z,V,q,N,se,p,k,w=t[7](t[29].realized_pnl)+"",B,X,C,L,me,ve,ye,ce=t[29].step_index+"",ke,$e,de,ge,we,ne,ae=t[14](t[29])+"",M,fe,R,pe,Ce,ie,b=t[15](t[29])+"",I,S,G,ze,Ue,Ee,K,Te,Y=t[9](t[16](t[29]))+"",Le,re,be,Z,De,Be,Xe,Ne=t[9](t[29].realized_pnl)+"",He,Ae,Je,Pe,je,Ve,h,H,A,qe,Ge;function Ke(P,m){var ue;return(ue=P[29].trades)!=null&&ue.length?ll:tl}let Me=Ke(t),_e=Me(t);function Qe(P,m){var ue;return(ue=P[29].sell_orders)!=null&&ue.length?nl:sl}let We=Qe(t),he=We(t);return{c(){e=r("article"),s=r("div"),n=r("div"),a=r("h3"),i=g(o),_=d(),u=r("p"),v=g(f),O=d(),U=r("span"),D=g(E),W=d(),$=r("div"),T=r("div"),te=r("p"),te.textContent="Cash",F=d(),j=r("p"),J=g("$"),z=g(oe),V=d(),q=r("div"),N=r("p"),N.textContent="P/L",se=d(),p=r("p"),k=g("$"),B=g(w),C=d(),L=r("div"),me=r("p"),me.textContent="Step",ve=d(),ye=r("p"),ke=g(ce),$e=d(),de=r("div"),ge=r("p"),ge.textContent="Active Trades",we=d(),ne=r("p"),M=g(ae),fe=d(),R=r("div"),pe=r("p"),pe.textContent="Active Sells",Ce=d(),ie=r("p"),I=g(b),S=d(),G=r("div"),ze=r("div"),Ue=r("p"),Ue.textContent="Locked Cost",Ee=d(),K=r("p"),Te=g("$"),Le=g(Y),re=d(),be=r("div"),Z=r("p"),Z.textContent="Locked P/L",De=d(),Be=r("p"),Xe=g("$"),He=g(Ne),Je=d(),Pe=r("div"),je=r("p"),je.textContent="Trades",Ve=d(),_e.c(),h=d(),H=r("div"),A=r("p"),A.textContent="Sell Orders",qe=d(),he.c(),Ge=d(),c(u,"class","slug"),c(U,"class",Q=`status-pill ${t[29].status}`),c(s,"class","paper-meta"),c(te,"class","label"),c(j,"class","value"),c(N,"class","label"),c(p,"class",X=`value ${t[29].realized_pnl>=0?"pos":"neg"}`),c(me,"class","label"),c(ye,"class","value"),c(ge,"class","label"),c(ne,"class","value"),c(pe,"class","label"),c(ie,"class","value"),c($,"class","paper-stats wide"),c(Ue,"class","label"),c(K,"class","value"),c(Z,"class","label"),c(Be,"class",Ae=`value ${t[29].realized_pnl>=0?"pos":"neg"}`),c(G,"class","locked-profit"),c(je,"class","label"),c(Pe,"class","paper-trades"),c(A,"class","label"),c(H,"class","paper-trades"),c(e,"class","paper-card")},m(P,m){le(P,e,m),l(e,s),l(s,n),l(n,a),l(a,i),l(n,_),l(n,u),l(u,v),l(s,O),l(s,U),l(U,D),l(e,W),l(e,$),l($,T),l(T,te),l(T,F),l(T,j),l(j,J),l(j,z),l($,V),l($,q),l(q,N),l(q,se),l(q,p),l(p,k),l(p,B),l($,C),l($,L),l(L,me),l(L,ve),l(L,ye),l(ye,ke),l($,$e),l($,de),l(de,ge),l(de,we),l(de,ne),l(ne,M),l($,fe),l($,R),l(R,pe),l(R,Ce),l(R,ie),l(ie,I),l(e,S),l(e,G),l(G,ze),l(ze,Ue),l(ze,Ee),l(ze,K),l(K,Te),l(K,Le),l(G,re),l(G,be),l(be,Z),l(be,De),l(be,Be),l(Be,Xe),l(Be,He),l(e,Je),l(e,Pe),l(Pe,je),l(Pe,Ve),_e.m(Pe,null),l(e,h),l(e,H),l(H,A),l(H,qe),he.m(H,null),l(e,Ge)},p(P,m){m[0]&32&&o!==(o=P[29].label+"")&&y(i,o),m[0]&32&&f!==(f=P[29].slug+"")&&y(v,f),m[0]&32&&E!==(E=P[29].status+"")&&y(D,E),m[0]&32&&Q!==(Q=`status-pill ${P[29].status}`)&&c(U,"class",Q),m[0]&32&&oe!==(oe=P[9](P[29].cash)+"")&&y(z,oe),m[0]&32&&w!==(w=P[7](P[29].realized_pnl)+"")&&y(B,w),m[0]&32&&X!==(X=`value ${P[29].realized_pnl>=0?"pos":"neg"}`)&&c(p,"class",X),m[0]&32&&ce!==(ce=P[29].step_index+"")&&y(ke,ce),m[0]&32&&ae!==(ae=P[14](P[29])+"")&&y(M,ae),m[0]&32&&b!==(b=P[15](P[29])+"")&&y(I,b),m[0]&32&&Y!==(Y=P[9](P[16](P[29]))+"")&&y(Le,Y),m[0]&32&&Ne!==(Ne=P[9](P[29].realized_pnl)+"")&&y(He,Ne),m[0]&32&&Ae!==(Ae=`value ${P[29].realized_pnl>=0?"pos":"neg"}`)&&c(Be,"class",Ae),Me===(Me=Ke(P))&&_e?_e.p(P,m):(_e.d(1),_e=Me(P),_e&&(_e.c(),_e.m(Pe,null))),We===(We=Qe(P))&&he?he.p(P,m):(he.d(1),he=We(P),he&&(he.c(),he.m(H,null)))},d(P){P&&ee(e),_e.d(),he.d()}}}function al(t){let e,s,n,a,o,i,_,u,f,v,O,U,E,D,Q=t[6](t[2])+"",W,$,T,te,F,j,J,oe,z,V,q,N,se,p,k,w,B=t[5].paused?"Resume":"Pause",X,C,L,me,ve,ye,ce,ke,$e,de;function ge(b,I){return b[0].length===0?Zt:Yt}let we=ge(t),ne=we(t),ae=x(Object.entries(t[12]())),M=[];for(let b=0;b<ae.length;b+=1)M[b]=St(ft(t,ae,b));let fe=x(t[13]()),R=[];for(let b=0;b<fe.length;b+=1)R[b]=yt(pt(t,fe,b));function pe(b,I){var S;return(S=b[5].markets)!=null&&S.length?el:xt}let Ce=pe(t),ie=Ce(t);return{c(){e=r("main"),s=r("section"),n=r("div"),n.innerHTML='<p class="eyebrow">Polymarket 15m Up/Down</p> <h1>Live Market Ops</h1> <p class="subtitle">BTC, ETH, SOL, XRP monitoring with real-time CLOB updates.</p>',a=d(),o=r("div"),i=r("div"),u=d(),f=r("div"),v=r("p"),O=g(t[1]),U=d(),E=r("p"),D=g("Last update: "),W=g(Q),$=d(),T=r("p"),te=g("Orderbook: "),F=g(t[4]),j=d(),J=r("section"),ne.c(),oe=d(),z=r("section"),V=r("header"),V.innerHTML='<h2>Paper Trades</h2> <p class="subtitle">Budget 200 per market. Live P/L and fills.</p>',q=d(),N=r("div"),se=r("h3"),se.textContent="Strategy Summary",p=d(),k=r("div"),w=r("button"),X=g(B),C=d(),L=r("button"),L.textContent="Reset",me=d(),ve=r("div");for(let b=0;b<M.length;b+=1)M[b].c();ye=d(),ce=r("div");for(let b=0;b<R.length;b+=1)R[b].c();ke=d(),ie.c(),c(i,"class",_=`dot ${t[1]}`),c(v,"class","status-label"),c(E,"class","status-time"),c(T,"class","status-time"),c(o,"class","status"),c(s,"class","hero"),c(J,"class","grid"),c(V,"class","paper-header"),c(w,"class","action"),c(L,"class","action secondary"),c(k,"class","summary-actions"),c(ve,"class","summary-grid"),c(ce,"class","summary-grid market"),c(N,"class","summary-card"),c(z,"class","paper"),c(e,"class","scene")},m(b,I){le(b,e,I),l(e,s),l(s,n),l(s,a),l(s,o),l(o,i),l(o,u),l(o,f),l(f,v),l(v,O),l(f,U),l(f,E),l(E,D),l(E,W),l(f,$),l(f,T),l(T,te),l(T,F),l(e,j),l(e,J),ne.m(J,null),l(e,oe),l(e,z),l(z,V),l(z,q),l(z,N),l(N,se),l(N,p),l(N,k),l(k,w),l(w,X),l(k,C),l(k,L),l(N,me),l(N,ve);for(let S=0;S<M.length;S+=1)M[S]&&M[S].m(ve,null);l(N,ye),l(N,ce);for(let S=0;S<R.length;S+=1)R[S]&&R[S].m(ce,null);l(z,ke),ie.m(z,null),$e||(de=[at(w,"click",t[17]),at(L,"click",t[18])],$e=!0)},p(b,I){if(I[0]&2&&_!==(_=`dot ${b[1]}`)&&c(i,"class",_),I[0]&2&&y(O,b[1]),I[0]&4&&Q!==(Q=b[6](b[2])+"")&&y(W,Q),I[0]&16&&y(F,b[4]),we===(we=ge(b))&&ne?ne.p(b,I):(ne.d(1),ne=we(b),ne&&(ne.c(),ne.m(J,null))),I[0]&32&&B!==(B=b[5].paused?"Resume":"Pause")&&y(X,B),I[0]&4608){ae=x(Object.entries(b[12]()));let S;for(S=0;S<ae.length;S+=1){const G=ft(b,ae,S);M[S]?M[S].p(G,I):(M[S]=St(G),M[S].c(),M[S].m(ve,null))}for(;S<M.length;S+=1)M[S].d(1);M.length=ae.length}if(I[0]&8704){fe=x(b[13]());let S;for(S=0;S<fe.length;S+=1){const G=pt(b,fe,S);R[S]?R[S].p(G,I):(R[S]=yt(G),R[S].c(),R[S].m(ce,null))}for(;S<R.length;S+=1)R[S].d(1);R.length=fe.length}Ce===(Ce=pe(b))&&ie?ie.p(b,I):(ie.d(1),ie=Ce(b),ie&&(ie.c(),ie.m(z,null)))},i:Se,o:Se,d(b){b&&ee(e),ne.d(),Oe(M,b),Oe(R,b),ie.d(),$e=!1,xe(de)}}}function il(t,e,s){let n=[],a="connecting",o=null,i={},_="connecting",u={markets:[]},f=null;const v=p=>p?new Date(p*1e3).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"--:--:--",O=p=>p==null?"--":p.toFixed(4),U=p=>p==null?"--":p===0?"0":p<.01?p.toExponential(2):p.toFixed(4),E=p=>p==null?"--":p.toFixed(2),D=p=>p==null?"--":p.toFixed(4),Q=p=>p==null?"--":`${p>0?"+":""}${p.toFixed(4)}`,W=()=>"/ws",$=()=>"/ws/orderbook",T=p=>p,te=()=>{f||(f=setInterval(async()=>{try{const p=await fetch(T("/api/snapshot"));if(!p.ok)return;const k=await p.json();s(0,n=k.markets||[]),s(2,o=k.ts),s(1,a="polling")}catch{s(1,a="offline")}},5e3))},F=()=>{const p=new WebSocket(W());p.addEventListener("open",()=>{s(1,a="live"),f&&(clearInterval(f),f=null)}),p.addEventListener("message",k=>{try{const w=JSON.parse(k.data);s(0,n=w.markets||[]),s(2,o=w.ts)}catch{s(1,a="degraded")}}),p.addEventListener("close",()=>{s(1,a="reconnecting"),te(),setTimeout(F,2e3)}),p.addEventListener("error",()=>{s(1,a="degraded"),te()})},j=()=>{const p=new WebSocket($());p.addEventListener("open",()=>{s(4,_="live")}),p.addEventListener("message",k=>{try{const w=JSON.parse(k.data);if(w.message_type==="orderbook_update"){const B=w.label;i[B]||s(3,i[B]={up:{bids:[],asks:[]},down:{bids:[],asks:[]}},i),s(3,i[B][w.outcome]=w.book||{bids:[],asks:[]},i),s(3,i={...i});return}if(Array.isArray(w.markets)){const B={};for(const X of w.markets)B[X.label]={up:X.up||{bids:[],asks:[]},down:X.down||{bids:[],asks:[]}};s(3,i=B);return}}catch{s(4,_="degraded")}}),p.addEventListener("close",()=>{s(4,_="reconnecting"),setTimeout(j,2e3)}),p.addEventListener("error",()=>{s(4,_="degraded")})};return Wt(async()=>{try{const k=await fetch(T("/api/snapshot"));if(k.ok){const w=await k.json();s(0,n=w.markets||[]),s(2,o=w.ts)}}catch{s(1,a="offline")}F(),j();const p=async()=>{try{const k=await fetch(T("/api/paper/state"));if(!k.ok)return;s(5,u=await k.json())}catch{}};await p(),setInterval(p,2e3)}),[n,a,o,i,_,u,v,O,U,E,D,Q,()=>{const p={BTC:0,ETH:0,SOL:0,XRP:0};for(const k of u.markets||[]){const w=k.label||"";w.includes("BTC")&&(p.BTC+=k.realized_pnl||0),w.includes("ETH")&&(p.ETH+=k.realized_pnl||0),w.includes("SOL")&&(p.SOL+=k.realized_pnl||0),w.includes("XRP")&&(p.XRP+=k.realized_pnl||0)}return p},()=>(u.markets||[]).map(p=>({label:p.label,pnl:p.realized_pnl||0})),p=>(p.open_positions||[]).length,p=>(p.sell_orders||[]).filter(k=>k.status==="active").length,p=>(p.trades||[]).reduce((k,w)=>w.action==="buy"?k+(w.notional||0):k,0),async()=>{try{const p=await fetch(T("/api/paper/pause"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paused:!u.paused})});if(!p.ok)return;const k=await p.json();s(5,u={...u,paused:k.paused})}catch{}},async()=>{try{const p=await fetch(T("/api/paper/reset"),{method:"POST"});if(!p.ok)return;s(5,u=await p.json())}catch{}}]}class rl extends Kt{constructor(e){super(),Gt(this,e,il,al,Ut,{},null,[-1,-1])}}new rl({target:document.getElementById("app")});
